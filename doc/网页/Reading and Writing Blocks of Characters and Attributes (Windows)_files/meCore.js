(function(n){function o(r){function tt(){var n=o.authenticatedState;w=n==u.SignedIn||n==u.SignedInIdp}function it(){var n;return n=o.enabled?w?"statussignedin":"statussignedout":"statusunavailable",t.getString(n)}function d(n){n.preventDefault(),n.stopPropagation(),o.enabled&&r.onSwitchUser&&r.onSwitchUser()}function g(i){i.preventDefault(),i.stopPropagation(),c.hide(),y.show(),p.text(t.getString(w?"statussigningout":"statusremoving")),o.onSignOutUser&&o.onSignOutUser(function(){n(l).trigger("remove")},function(){c.show(),y.hide(),p.text(t.getString(w?"statussignoutfailed":"statusremovingfailed"))})}function nt(n,t){t&&n&&n.which===13&&t(n)}var l=this,a=!1,v=!1,o=r,k="msame_ai"+e++,h=null,s=null,b=null,y=null,c=null,p=null,w=null;l.render=function(){var n=i.PictureLoaderCache.isCached(o.tileUrl)?o.tileUrl:"";return t.format(f,k,n,t.encodeHtml(o.displayName),t.encodeHtml(o.memberName),t.encodeHtml(it()),t.getString(o.authenticatedState==u.SignedInIdp?"signoutremovetip":"removetip",!0),o.removeImgUrl)},l.activate=function(){if(!a&&!v){a=!0,s=n("#"+k),c=n(".msame_Drop_AI_remove",s),y=n(".msame_Drop_AI_prog",s),b=n(".msame_Drop_AI_piccont img",s),p=n(".msame_Drop_AI_status",s),s.toggleClass("disabled",!o.enabled),s.toggleClass("switch",o.enabled),h=new i.PictureLoader(b,o.tileUrl,o.errorImgUrl),setTimeout(h.activate,0);s.on("click",d);s.on("keydown",function(n){nt(n,d)});c.on("click",g);c.on("keydown",function(n){nt(n,g)})}},l.deactivate=function(){a&&!v&&(a=!1,h&&h.deactivate(),c.off())},l.dispose=function(){v||(l.deactivate(),h&&h.dispose(),s.remove(),o=r=h=null,s=c=b=y=p=null,v=!0)},tt()}var r=window;r.MSA=r.MSA||{};var i=r.MSA.MeControl=r.MSA.MeControl||{},t=i.Strings,s=i.IDP,u=i.AuthState,f='<div id="{0}" class="msame_Drop_AI switch" tabIndex="0"><div class="msame_Drop_AI_pic"><div class="msame_Drop_AI_piccont"><div class="msame_Drop_AI_picframe"><img role="presentation" src="{1}"><\/div><\/div><\/div><div class="msame_Drop_AI_right"><div class="msame_TxtTrunc msame_Drop_AI_name">{2}<\/div><div class="msame_TxtTrunc msame_Drop_AI_email">{3}<\/div><div class="msame_TxtTrunc msame_Drop_AI_status">{4}<\/div><\/div><div class="msame_Drop_AI_remove" tabIndex="0"><img alt="{5}" src="{6}" /><\/div><div class="msame_Drop_AI_prog" style="display:none;"><\/div><\/div>',e=0;i.AccountItemControl=o})(window.MejQuery),function(n){function f(t,f){function v(){if(c)for(var n=0;n<c.length;n++)e.push(new i.AccountItemControl(f.getAccountItemData(c[n])))}function y(t){var i=e.indexOf(t);t.dispose(),e.splice(i,1),n(t).off("remove"),e.length===0&&n(o).trigger("empty")}var o=this,s=!1,h=!1,p=!1,a=t||{},c=a.userList,e=[],l=null;o.render=function(){for(var t="",n=0;n<e.length;n++)t+=e[n].render();return r.format(u,t)},o.activate=function(){if(!s&&!h){s=!0,l=n(".msame_Drop_AL");for(var t=0;t<e.length;t++){e[t].activate();n(e[t]).on("remove",function(n){return function(){y(n)}}(e[t]))}}},o.deactivate=function(){if(s&&!h){s=!1;for(var t=0;t<e.length;t++)e[t].deactivate(),n(e[t]).off("remove")}},o.dispose=function(){if(!h){o.deactivate();for(var n=0;n<e.length;n++)e[n].dispose();l.remove(),a=t=e=null,l=null,h=!0}},v()}var t=window;t.MSA=t.MSA||{};var i=t.MSA.MeControl=t.MSA.MeControl||{},r=i.Strings,u='<div class="msame_Drop_AL"><div class="msame_Drop_ALItems">{0}<\/div><\/div>';i.AccountsListControl=f}(window.MejQuery),function(n){function o(t){function v(n){i.id&&u.logEvent(i.id+"Clicked");var t=i.onClick&&i.onClick();t&&(n.preventDefault(),n.stopPropagation())}var o=this,h=!1,c=!1,i=t,a="msame_si"+e++,l=null,s=null;o.focus=function(){s&&s.focus()},o.render=function(){return r.format(f,a,r.encodeHtml(i.string),r.encodeHtml(i.url||"#"))},o.activate=function(){if(!h&&!c){h=!0,l=n("#"+a),s=n("a",l);s.on("click",v)}},o.deactivate=function(){h&&!c&&(h=!1,s.off())},o.dispose=function(){c||(o.deactivate(),i=t=null,l=s=null,c=!0)}}var t=window;t.MSA=t.MSA||{};var i=t.MSA.MeControl=t.MSA.MeControl||{},r=i.Strings,u=i.Log,f='<div id="{0}" class="msame_Drop_SI"><a href="{2}" class="msame_TxtTrunc">{1}<\/a><\/div>',e=0;i.SectionItemControl=o}(window.MejQuery),function(n){function l(l){function g(n){n.preventDefault(),n.stopPropagation(),i.location.href=a.getEditPictureUrl()}var y=this,p=!1,w=!1,a=l,v=null,b=null,k=null,d=null;y.setUserPicture=function(n){v&&v.reset(n)},y.render=function(){var y=r.PictureLoaderCache.isCached(a.tileUrl)?a.tileUrl:"",n="",i=u,v;return l.idp!==r.IDP.MSA||a.nickName?n=a.roleName&&(a.orgName||a.nickName)?t.format(e,t.encodeHtml(a.displayName),t.encodeHtml(a.roleName),t.encodeHtml(a.orgName||a.nickName),t.encodeHtml(a.memberName)):t.format(o,t.encodeHtml(a.displayName),t.encodeHtml(a.roleName||a.orgName||a.nickName),t.encodeHtml(a.memberName)):(n=t.format(s,t.encodeHtml(a.displayName),t.encodeHtml(a.memberName)),i=l.isCustomTileUrl?u:c),v=t.format(i,t.format(h,t.encodeHtml(y)),t.encodeHtml(t.getString("updatephoto"))),t.format(f,v,n)},y.activate=function(){if(!p&&!w){p=!0,b=n(".msame_Drop_active"),k=n(".msame_Drop_active_piccont img",b),d=n(".msame_Drop_active_piccont a",b);d.on("click",g);v=new r.PictureLoader(k,a.tileUrl,a.errorImgUrl),setTimeout(v.activate,0)}},y.deactivate=function(){p&&!w&&(p=!1,v&&v.deactivate(),d.off())},y.dispose=function(){w||(y.deactivate(),v&&(v.dispose(),v=null),a=l=null,k=b=null,w=!0)}}var i=window;i.MSA=i.MSA||{};var r=i.MSA.MeControl=i.MSA.MeControl||{},t=r.Strings,f='<div class="msame_Drop_active_pic"><div class="msame_Drop_active_piccont"><div class="msame_Drop_active_picframe">{0}<\/div><\/div><\/div><div class="msame_Drop_active_right">{1}<\/div>',e='<div class="msame_TxtTrunc msame_Drop_active_name">{0}<\/div><div class="msame_TxtTrunc msame_Drop_active_email">{1}<\/div><div class="msame_TxtTrunc msame_Drop_active_email">{2}<\/div><div class="msame_TxtTrunc msame_Drop_active_email">{3}<\/div>',o='<div class="msame_TxtTrunc msame_Drop_active_name">{0}<\/div><div class="msame_TxtTrunc msame_Drop_active_email">{1}<\/div><div class="msame_TxtTrunc msame_Drop_active_email">{2}<\/div>',s='<div class="msame_TxtTrunc msame_Drop_active_name">{0}<\/div><div class="msame_TxtTrunc msame_Drop_active_email">{1}<\/div>',h='<img role="presentation" src="{0}">',u='<div class="msame_Drop_active_picborder">{0}<\/div>',c='<a href="#" title="{1}">{0}<\/a>';r.ActiveAccountControl=l}(window.MejQuery),function(n){function p(y,p){function ni(){var n,i;dt&&(ut=new t.ActiveAccountControl(y.activeAccountData()),k.push(ut),n=y.userStateModel().getIdpInfo().accountSettingsUrl,n&&(i=t.Config.msTxt?"microsoftaccount":"viewaccount",ft=new t.SectionItemControl({string:u.getString(i),onClick:function(){return f.logEvent("ViewAccount",{idp:y.userData().idp}),!1},url:n}),k.push(ft)),et=new t.SectionItemControl({string:u.getString("signout"),onClick:function(){return y.signOut(),!0}}),k.push(et)),!y.isReady()||!y.userStateModel().canSignInOtherAccount()||y.options.events&&y.options.events.onSignIn||(ot=new t.SectionItemControl({string:u.getString("signinotheraccount"),onClick:function(){return y.signIn(),!0}}),k.push(ot))}function ti(n){var f=n[0],r=typeof i.pageXOffset===s?e.scrollLeft:i.pageXOffset,u=typeof i.pageYOffset===s?e.scrollTop:i.pageYOffset,t=f.getBoundingClientRect();return{top:u+t.top,left:r+t.left,right:r+t.right,bottom:u+t.bottom,width:n.width(),height:n.height()}}function wt(){it&&!g&&w.toggleClass("msame_Mobile",lt)}function ii(n){w.toggleClass("msame_ClickStart",!n)}function bt(){if(st){for(var n=0;n<st.length;n++)st[n].dispose();st=null}}function ri(n){if(!g){var t=w.height();w.css({top:"-="+c,height:t/2,opacity:"0",display:""}),w.animate({top:"+="+c,height:t+"px"},{duration:v,easing:"easeOutQuintPartial",queue:!1,complete:function(){g||(w.css("height",""),n&&n())}}),w.animate({opacity:"1"},{duration:l,queue:!1,easing:"linear"})}}function ui(){if(!yt&&(yt=!0,!ht&&y.isReady()&&(ht=y.userStateModel()),ht)){var i=Date.now();ht.getUserState(function(r){var u,e;if(!g){if(r&&r.length>0){d=new t.AccountsListControl({userList:r},y);n(d).on("empty",fi);k.push(d),u=n(".msame_Drop_accts_list",w),u.html(d.render()),d.activate(),e=n(".msame_Drop_accts",w),e.show(),ht.canSignInOtherAccount()||n(".msame_Drop_signIn").hide()}f.logEvent("AccountListReady",{duration:Date.now()-i,count:r&&r.length})}},function(){})}}function fi(){var t,i;d&&(t=n(".msame_Drop_accts",w),t.slideUp("fast"),d.dispose(),i=k.indexOf(d),k.splice(i,1),n(d).off("empty"),d=null)}function kt(n,t){try{for(var i=t;i&&i!==n&&i!==rt[0];)i=i.parentNode;return i===n}catch(r){return!1}}function ct(n){g||!nt||!tt||n.type==="mousewheel"||n.target===tt[0]||kt(tt[0],n.target)||kt(w[0],n.target)||(n.preventDefault(),n.stopPropagation(),b.hide())}function ei(n){nt&&n.which===27&&b.hide(!0)}var b=this,it=!1,g=!1,nt=!1,dt=y.hasActiveUser(),yt=!1,lt=y.mobileState()===t.MobileState.Mobile,k=[],ut=null,d=null,ft=null,et=null,ot=null,st=null,ht=y.userStateModel(),gt,w=null,at=null,vt=null,pt=null,tt=p&&p.anchor,rt=n(document),oi=n(document.body);b.setMobileState=function(n){lt=n===t.MobileState.Mobile,wt()},b.setUserPicture=function(n){ut&&ut.setUserPicture(n)},b.updateExtensibleLinks=function(){var n,i,r;if(at.hide(),vt.html(""),n=y.extensibleLinks(),n&&n.length>0)for(bt(),st=[],at.show(),i=0;i<n.length;i++)r=new t.SectionItemControl(n[i]),vt.append(r.render()),r.activate(),st.push(r)},b.render=function(){return u.format(a,ut?ut.render():"",ft?ft.render():"",ot?ot.render():"",et?et.render():"")},b.activate=function(){var f,u;if(!it&&!g){if(f=n("#meControlDropdown"),f.length>0){it=!0,w=f,at=n(".msame_Drop_links",w),vt=n(".msame_Drop_links_list",w),pt=n(".msame_Drop_topb",w),t.Browser.ie8&&w.addClass("msaie8");rt.on("click"+r,ct);rt.on("mousedown"+r,ct);rt.on("touchend"+r,ct);rt.on("mousewheel"+r,ct);rt.on("keyup"+r,ei);n(i).on("resize"+r,ct);for(u=0;u<k.length;u++)k[u].activate();ui()}wt(),b.updateExtensibleLinks()}},b.deactivate=function(){if(it&&!g){it=!1,rt.off(r),n(i).off(r),d&&n(d).off("empty");for(var t=0;t<k.length;t++)k[t].deactivate()}},b.toggle=function(n){it&&(ii(n),nt?b.hide():b.show())},b.show=function(){if(it&&!nt){if(nt=!0,f.logEvent("DropdownOpen"),tt){var i=ti(tt);w.css({top:i.top+i.height,left:t.Loc.rtl?i.left:i.right-w.width()-h}),pt.css("width",w.width()-tt.outerWidth()+h+"px")}ri(function(){var t=lt?(w[0].clientWidth-108).toString():"";n(".msame_Drop_AI_right",w).css("width",t),ft?ft.focus():ot?ot.focus():et&&et.focus()}),n(b).trigger(o,{visible:nt})}},b.hide=function(t){it&&nt&&(nt=!1,w.fadeOut(l,function(){t&&tt&&tt.focus(),n(b).trigger(o,{visible:nt})}))},b.dispose=function(){if(!g){b.deactivate(),bt();for(var n=0;n<k.length;n++)k[n].dispose();w.remove(),y=gt=ht=k=null,w=tt=rt=null,g=!0}},ni()}var i=window;i.MSA=i.MSA||{};var t=i.MSA.MeControl=i.MSA.MeControl||{},u=t.Strings,f=t.Log,e=document.documentElement,o="visible",r=".msame",s="undefined",a='<div id="meControlDropdown" class="msame_Drop_root" style="display: none;"><div class="msame_Drop_topb"><\/div><div class="msame_Drop_content"><div class="msame_Drop_active">{0}<\/div><div class="msame_Drop_account">{1}<\/div><div class="msame_Drop_links" style="display: none;"><div class="msame_Drop_links_list"><\/div><\/div><div class="msame_Drop_signIn">{2}<\/div><div class="msame_Drop_signOut">{3}<\/div><div class="msame_Drop_accts" style="display: none;"><div class="msame_Drop_sep"><\/div><div class="msame_Drop_accts_list"><\/div><\/div><\/div><\/div>',h=2,c=60,v=833,l=100,y=.2;n.extend(n.easing,{easeOutQuintPartial:function(n){return n+=y*(1-n),Math.pow(n-1,5)+1}}),t.MeDropdownControl=p}(window.MejQuery),function(n){function u(){function l(t,i,r){var h,v;if(!e&&t){var y=Date.now(),l="mecontrol_iframe_index_"+s++,a=n('<iframe style="display:none"><\/iframe>').attr("id",l).attr("src",t);a.appendTo("body"),i&&(h=f.getDomainFromUrl(t),u[h]||(u[h]={}),v=setTimeout(function(){c(h,l)},o),u[h][l]={callback:i,iframe:a[0],start:y,timeoutId:v,timeoutCallback:r})}}function h(t){var i=t.originalEvent;i&&u[i.origin]&&n.each(u[i.origin],function(t,f){if(i.source==f.iframe.contentWindow){r.logQos("IFrameCtrl",!0,Date.now()-f.start,"",{src:f.iframe.src});var e=f.callback(i);e?(clearTimeout(f.timeoutId),n(f.iframe).remove(),delete u[i.origin][t]):(clearTimeout(f.timeoutId),f.timeoutId=setTimeout(function(){c(i.origin,t)},o))}})}function c(t,i){if(!e&&u&&u[t]){var r=u[t][i];r&&(r.timeoutCallback&&r.timeoutCallback(),n(r.iframe).remove(),delete u[t][i])}}var o=3e4,f=this,e=!0,s,u;f.init=function(){if(e){u={},s=0,e=!1;n(t).on("message",h)}},f.getDomainFromUrl=function(n){var t=document.createElement("a"),i;return t.href=n,i=t.protocol+"//"+t.hostname,t.port!==null&&t.port!==""&&t.port!=="443"&&t.port!=="80"&&t.port!=="0"&&(i+=":"+t.port),i},f.openIFrame=function(n,t,r,u){u&&(n=i.Util.appendQueryParams(n,u)),l(n,t,r)},f.dispose=function(){var r,i;if(!e){n(t).off("message",h);for(r in u)for(i in r)clearTimeout(i.timeoutId),n(i.iframe).remove();u=null,e=!0}},f.init();n(t).on("unload.msame",f.dispose)}var t=window,i=t.MSA.MeControl,r=i.Log;i.IFrameControl=new u}(window.MejQuery),function(n){function g(g,nt,tt){function ni(){if(ut.isIdpEnabled(t.AAD)){var n=rt.aadInfo;n.meUrl||(n.meUrl=o.format(p,s,encodeURIComponent(n.appId),encodeURIComponent(n.siteUrl))),n.signInUrl||(n.signInUrl=o.format(w,s,encodeURIComponent(n.appId),encodeURIComponent(gt()),encodeURIComponent(n.siteUrl))),n.blockMsaFed&&(n.signInUrl=i.appendQueryParams(n.signInUrl,{msafed:"0"}))}}function bt(){var r,n,i;if(ft&&et){for(r=[],n=0;n<ft.length;n++)i=!0,ti(et,ft[n])&&(i=!1,(et.idp===t.AAD||et.idp===t.MSA_FED)&&(et.sessionId=ft[n].sessionId)),ft[n].idp===t.ORG_ID&&(i=!1),i&&r.push(ft[n]);ft=r}}function ti(n,i){return!n||!i||n.idp!==i.idp?!1:n.idp===t.MSA?n.cid===i.cid:n.memberName&&i.memberName&&n.memberName.toLowerCase()===i.memberName.toLowerCase()}function vt(i){var e,s,u,r,o;return ct&&(e=rt.msaInfo.meTrustedOrigin&&i.origin===rt.msaInfo.meTrustedOrigin,s=rt.aadInfo.meTrustedOrigin&&i.origin===rt.aadInfo.meTrustedOrigin,(e||s)&&typeof i.data=="string"&&(st--,u={currentIdp:e?t.MSA:t.AAD,messagesMissing:st},r=n.parseJSON(i.data),r&&r.userList&&r.userList.length>0?ot.push.apply(ot,r.userList):(o="InvalidIdpData",r&&r.error&&(u.IDPError=r.error,o="IDPError"),f.logQos("UserStatePartial",!1,Date.now()-at,o,u)),st===0))?(ot&&ot.length>0?ht(!0):ht(!1,"NoIdpData",u),!0):!1}function ht(n,t,i){var r,u;for(ft=ot||[],bt(),i=i||{},i.userCount=ft.length,f.logQos("UserState",n,Date.now()-at,t,i),r=0;r<lt.length;r++)u=lt[r],n?u.success(ft):u.failure&&u.failure();ii()}function yt(){ct&&(st-=1,st===0&&(ot&&ot.length>0?ht(!0,"",{timeout:!0,messagesMissing:st}):ht(!1,"Timeout")))}function ii(){st=0,ct=!1,at=0,ot=[],lt=[]}function ri(){for(var i=ut.currentState(),n=0;n<i.length;n++)if(i[n].idp===t.MSA)return!0;return!1}function ui(){var n=rt.msaInfo;return ut.isIdpEnabled(t.MSA)&&n.signInUrl.indexOf("login.srf")>=0}function kt(){var n=rt.msaInfo;return ut.isIdpEnabled(t.MSA)&&(!pt()&&!ri()||i.hasQueryParam(n.signOutUrl,"ru")&&i.hasQueryParam(n.signInUrl,"wreply"))}function dt(){var n=rt.aadInfo;return ut.isIdpEnabled(t.AAD)&&(n.allowNonAadUrls||i.hasQueryParam(n.signInUrl,"client_id")&&i.hasQueryParam(n.signInUrl,"redirect_uri"))}function gt(){return rt.aadInfo.nonce||f.id}function pt(){return et&&et.authenticatedState==r.AuthState.SignedIn}function fi(n,t){var r=n.signInUrl,u;return n.generateSignInReturnUrl&&(u=n.generateSignInReturnUrl(),r=i.setQueryParam(r,b,encodeURIComponent(u))),r=i.setQueryParam(r,"pcexp",t?"false":"true"),pt()&&kt()&&(r=i.setQueryParam(n.signOutUrl,l,encodeURIComponent(r))),r}function ei(n){var t=n.signInUrl,r;return n.generateSignInReturnUrl&&(r=n.generateSignInReturnUrl(),t=i.setQueryParam(t,k,encodeURIComponent(r))),!n.allowNonAadUrls&&n.state&&(t=i.setQueryParam(t,"state",encodeURIComponent(n.state))),pt()&&dt()&&(t=i.setQueryParam(t,"prompt","select_account")),t}function oi(n){var t=n.signOutUrl,r;return n.generateSignOutReturnUrl&&(r=n.generateSignOutReturnUrl(),t=i.setQueryParam(t,l,encodeURIComponent(r))),t}function si(n){var t=n.signOutUrl,r;return n.generateSignOutReturnUrl&&(r=n.generateSignOutReturnUrl(),t=i.setQueryParam(t,d,encodeURIComponent(r))),t}var ut=this,wt=!1,rt=g,et=null,ot=[],ft=null,lt=[],st=0,ct=!1,at;ut.setActiveUser=function(n){et=n,bt()},ut.currentState=function(){return ft||[]},ut.getUserState=function(n,i){if(ft){n(ft);return}if(lt.push({success:n,failure:i}),!ct){if(ft=null,at=Date.now(),r.TestData){ot=r.TestData,ht(!0);return}if(!e.postMessage){ht(!1,"PostMessageNotSupported");return}if(location.protocol!=="https:"){ht(!1,"HttpNotSupported");return}ct=!0,st=nt?2:1;var o={uaid:f.id,partnerId:r.Config.ptn};rt&&rt.msaInfo&&rt.aadInfo?ut.isIdpEnabled(t.MSA)?(rt.msaInfo.meTrustedOrigin=u.getDomainFromUrl(rt.msaInfo.meUrl),ut.isIdpEnabled(t.AAD)?(rt.aadInfo.meTrustedOrigin=u.getDomainFromUrl(rt.aadInfo.meUrl),u.openIFrame(rt.msaInfo.meUrl,vt,yt,o),nt&&(o.appId=rt.aadInfo.appId,u.openIFrame(rt.aadInfo.meUrl,vt,yt,o))):(tt&&(o.idpflag=c),u.openIFrame(rt.msaInfo.meUrl,vt,yt,o))):ut.isIdpEnabled(t.AAD)&&nt&&(rt.aadInfo.meTrustedOrigin=u.getDomainFromUrl(rt.aadInfo.meUrl),tt&&(o.idpflag=c),o.appId=rt.aadInfo.appId,u.openIFrame(rt.aadInfo.meUrl,vt,yt,o)):ht(!1,"InvalidRpData")}},ut.getIdpInfo=function(n){n=n||et&&et.idp;var i;switch(n){case t.MSA:i=rt.msaInfo;break;case t.AAD:i=rt.aadInfo;break;case t.MSA_FED:i=rt.aadInfo}return i||{}},ut.isIdpEnabled=function(n){if(!n)return!1;var i=ut.getIdpInfo(n);return!!(i&&(i.meUrl||n==t.AAD&&i.appId))},ut.dispose=function(){wt||(wt=!0)},ut.getSignInUrl=function(n,i){n=n||pt()&&et.idp||rt.preferredIdp||t.MSA;var f=n===t.AAD||n===t.MSA_FED,r=f?rt.aadInfo:rt.msaInfo,u=r.signInUrl;return u=f?ei(r):fi(r,i)},ut.canSignInOtherAccount=function(){return dt()||kt()},ut.getSignOutUrl=function(n){var f=n?n.idp:rt.preferredIdp||t.MSA,e=f===t.AAD||f===t.MSA_FED,r=e?rt.aadInfo:rt.msaInfo,u=r.signOutUrl;return u=e?si(r):oi(r),i.appendContextParam(u)},ut.signOutUser=function(i,r,h){var p,w,c,l;i.idp===t.AAD||i.idp===t.MSA_FED?(p=i,w=rt.aadInfo,c=ut.isIdpEnabled(t.AAD)?o.format(y,s,encodeURIComponent(w.appId),encodeURIComponent(p.sessionId),encodeURIComponent(w.siteUrl)):o.format(v,a,encodeURIComponent(p.sessionId),encodeURIComponent(u.getDomainFromUrl(e.location.href))),l=Date.now(),u.openIFrame(c,function(t){var e=u.getDomainFromUrl(c),i;return t.origin!==e?!1:(i=n.parseJSON(t.data),i&&i.signoutStatus&&i.signoutStatus.toString()==="true"?(f.logQos("SignOutUser",!0,Date.now()-l),r()):(f.logQos("SignOutUser",!1,Date.now()-l,i.error||""),h()),!0)},function(){h(),f.logQos("SignOutUser",!1,Date.now()-l,"Timeout")})):i.idp===t.MSA&&ut.isIdpEnabled(t.MSA)?e.location.href=ut.getSignOutUrl(i):h&&h()},ut.getSwitchToUrl=function(n){var u,r;return n.idp===t.MSA?(u=ut.getSignInUrl(n.idp),ui()?i.appendQueryParams(u,{username:n.memberName}):u):n.idp===t.AAD||n.idp===t.MSA_FED?(r=ut.getSignInUrl(n.idp),i.hasQueryParam(r,h)&&(r=i.setQueryParam(r,h,"")),rt.aadInfo.allowNonAadUrls||(r=i.setQueryParam(r,"nonce",encodeURIComponent(gt()))),i.setQueryParam(r,"login_hint",encodeURIComponent(n.memberName))):""},ni()}var e=window,r=e.MSA.MeControl,u=r.IFrameControl,f=r.Log,t=r.IDP,i=r.Util,o=r.Strings,h="prompt",c="proxy",s="https://login.microsoftonline.com",a="https://login.live.com",v="{0}/logout.srf?aadsession={1}&idpflag=proxy&ru={2}",y="{0}/uxlogout?appid={1}&sessionId={2}&wreply={3}&shouldForgetUser=true&isIframe=true&slice=TestSlice",p="{0}/savedusers?appid={1}&wreply={2}",w="{0}/common/oauth2/authorize?response_type=id_token&client_id={1}&scope=openid&nonce={2}&response_mode=form_post&redirect_uri={3}",b="wreply",k="redirect_uri",l="ru",d="wreply";r.UserStateModel=g}(window.MejQuery);window.MSA.MeControl.Loc={rtl:false,lf:false};window.MSA.MeControl.Strings.addStrings({
"editdone":"Done",
"statussigningout":"Signing out",
"microsoftaccount":"Microsoft account",
"viewaccount":"View account",
"signinotheraccount":"Sign in with another account",
"statusremoving":"Removing from list",
"statussignoutfailed":"Sign-out failed",
"removetip":"Remove from list",
"updatephoto":"Update your photo",
"statussignedin":"Signed in",
"signoutremovetip":"Sign out and remove from list",
"statusunavailable":"Not available",
"editlist":"Edit list",
"account":"Account",
"statusremovingfailed":"Removal failed",
"statussignedout":"Signed out"});window.MSA.MeControl.Loader.scriptLoaded('meCore');